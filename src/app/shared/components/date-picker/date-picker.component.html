<div class="relative">
    <input type="text" readonly [value]="selectedDate || 'dd-mm-aaaa'"
      class="  border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 pr-10 cursor-pointer"
      (click)="toggleCalendar()" />
  
    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
            <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
          </svg>
    </div>
  
    @if (showCalendar) {
      <div class="absolute z-50 bg-light-mode dark:bg-dark-mode border  border-gray-300 mt-1 py-3 rounded-lg shadow-md w-full">
        <div class="flex justify-between mb-2 w-full items-center">
         
          <div class="relative w-1/3 text-color-primary">
            <button
              class="block appearance-none w-full bg-transparent text-start  py-1 px-3 rounded shadow-sm leading-tight focus:outline-none focus:ring-blue-500 focus:border-blue-500 cursor-pointer"
              (click)="toggleYearDropdown()">
              {{selectedYear}}
            </button>
          
            <div *ngIf="isYearDropdownOpen" class="absolute mt-1 w-full rounded-xl bg-light-mode dark:bg-dark-mode z-50 shadow-lg">
              <ul class="max-h-60 rounded-xl grid grid-cols-4 p-2 bg-light-mode dark:bg-dark-mode w-96 gap-2 overflow-auto border border-dark-mode dark:border-color-secondary">
                <li *ngFor="let year of years"
                    class="cursor-pointer text-center  text-dark-mode dark:text-light-mode py-2 px-3 hover:bg-color-primary hover:text-light-mode rounded-md"
                    (click)="selectYear(year)">
                  {{ year }}
                </li>
              </ul>
            </div>
          
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-color-primary">
              <svg class="fill-current h-6 w-6 rounded-sm" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" stroke="currentColor">
                <path d="M5.2 7.2L10 12l4.8-4.8H5.2z" />
              </svg>
            </div>
          </div>

          <div class="relative w-1/2 text-color-primary">
            <button
              class="block appearance-none w-full bg-transparent text-start  text-color-primary rounded px-4 py-1 shadow-sm leading-tight focus:outline-none focus:ring-blue-500 focus:border-blue-500 cursor-pointer"
              (click)="toggleMonthDropdown()">
              {{ months[selectedMonth]  }}
            </button>
          
            <div *ngIf="isMonthDropdownOpen" class="absolute mt-1 w-full rounded-xl bg-light-mode dark:bg-dark-mode z-50 shadow-lg">
              <ul class="max-h-60 rounded-xl grid grid-cols-3 p-2 bg-light-mode dark:bg-dark-mode w-96 gap-2 overflow-auto border border-dark-mode dark:border-color-secondary">
                <li *ngFor="let month of months; let i = index"
                    class="cursor-pointer text-dark-mode dark:text-light-mode text-start py-2 px-3 hover:bg-color-primary hover:text-light-mode rounded-md"
                    (click)="selectMonth(i)">
                  {{ month }}
                </li>
              </ul>
            </div>
          
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-color-primary">
              <svg class="fill-current h-6 w-6 rounded-sm" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" stroke="currentColor">
                <path d="M5.2 7.2L10 12l4.8-4.8H5.2z" />
              </svg>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-7 gap-1">
          @for (day of days; track $index) {
            <div class="p-2 text-center cursor-pointer hover:bg-color-primary hover:text-light-mode hover:rounded-md"
              (click)="selectDate(day)">
              <span>{{ day }}</span>
            </div>
          }
        </div>
      </div>
    }
  </div>
  